!function(){var a=jQuery,b=function(){function a(){this.fadeDuration=500,this.resizeDuration=700,this.positionFromTop=250}return a}(),c=function(){function b(a){this.options=a,this.image="",this.init()}return b.prototype.init=function(){this.enable(),this.build()},b.prototype.enable=function(){var b=this;a("body").on("click",".single-post img",function(c){return b.start(a(c.currentTarget)),!1})},b.prototype.build=function(){var b=this;a("<div id='lightboxOverlay'class='lightboxOverlay'></div><div id='lightbox'class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image'src=''/></div></div></div>").appendTo(a("body")),this.$lightbox=a("#lightbox"),this.$overlay=a("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return b.end(),!1}),this.$lightbox.hide().on("click",function(){return b.end(),!1}),this.$outerContainer.on("click",function(){return b.end(),!1})},b.prototype.start=function(b){var e,f,d=a(window);d.on("resize",a.proxy(this.sizeOverlay,this)),a("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.image=b,this.positionFromTop=(a(window).height()-this.image[0].naturalHeight)/2,e=d.scrollTop()+this.positionFromTop,f=d.scrollLeft(),this.$lightbox.css({top:e+"px",left:f+"px"}).fadeIn(this.options.fadeDuration),this.showImageLayer()},b.prototype.showImageLayer=function(){var d,b=this,c=this.$lightbox.find(".lb-image");c.attr("src",this.image.attr("src")),this.$overlay.fadeIn(this.options.fadeDuration),a(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image").hide(),this.$outerContainer.addClass("animating"),d=new Image,d.onload=function(){var e;e=a(d),c.width(d.width),c.height(d.height),b.sizeContainer(c.width(),c.height())},d.src=this.image.attr("src")},b.prototype.sizeOverlay=function(){this.$overlay.width(a(window).width()).height(a(document).height())},b.prototype.sizeContainer=function(a,b){var c=this,d=this.$outerContainer.outerWidth(),e=this.$outerContainer.outerHeight(),f=a+this.containerLeftPadding+this.containerRightPadding,g=b+this.containerTopPadding+this.containerBottomPadding;d!==f||e!==g?this.$outerContainer.animate({width:f,height:g},this.options.resizeDuration,"swing",function(){c.showImage()}):c.showImage()},b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow")},b.prototype.end=function(){a(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),a("select, object, embed").css({visibility:"visible"})},b}();a(function(){var a=new b;new c(a)})}.call(this);